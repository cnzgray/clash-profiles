# Stashä¸“ç”¨
########################################################################åˆ†éš”ç¬¦
pq: &pq {type: http, interval: 86400, health-check: {enable: true, url: https://www.gstatic.com/generate_204, interval: 600, format: yaml}}    #####   è®¢é˜…é”šç‚¹   #####
# url é‡Œå¡«å†™è‡ªå·±çš„è®¢é˜…,è®¢é˜…åç§°ä¸èƒ½é‡å¤
proxy-providers:
  sub1:    ###è®¢é˜…åç§°###
    <<: *pq
    url: ""

  # sub2:    ###è®¢é˜…åç§°###
  #   <<: *pq
  #   url: ""

pp: &pp {use: [ sub1 ]}   #####   æœºåœºåˆé›†   #####
########################################################################åˆ†éš”ç¬¦

######### é”šç‚¹ begin #########
wifi-direct: &wifi-direct
  # WIFI1: ğŸ¯ å…¨çƒç›´è¿
  # WIFI2: ğŸ¯ å…¨çƒç›´è¿
sp: &sp {<<: *wifi-direct, cellular: ğŸš€ èŠ‚ç‚¹é€‰æ‹©, default: ğŸš€ èŠ‚ç‚¹é€‰æ‹©}

pc: &pc {type: http, behavior: classical, interval: 86400, format: yaml}    #####   rule-providersé”šç‚¹   #####
pd: &pd {type: http, behavior: domain, interval: 86400, format: yaml}    #####   rule-providersé”šç‚¹   #####
pi: &pi {type: http, behavior: ipcidr, interval: 86400, format: yaml}    #####   rule-providersé”šç‚¹   #####
o1: &o1 {type: select, proxies: [ğŸš€ èŠ‚ç‚¹é€‰æ‹©, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹, ğŸ¯ å…¨çƒç›´è¿], <<: *pp, ssid-policy: {<<: *sp}}    ######  ç­–ç•¥ç»„æç‚¹   ######
o2: &o2 {type: select, proxies: [ğŸ¯ å…¨çƒç›´è¿, ğŸš€ èŠ‚ç‚¹é€‰æ‹©, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹]}    ######  ç­–ç•¥ç»„æç‚¹   ######
ot: &ot {type: url-test, interval: 600, tolerance: 100, lazy: true, url: https://www.gstatic.com/generate_204, <<: *pp} #####   ç­–ç•¥ç»„æç‚¹   #####
######### é”šç‚¹ end #########

########################################################################åˆ†éš”ç¬¦
proxy-groups:
  - {name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©, type: select, proxies: [â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹], <<: *pp}
  - {name: â™»ï¸ è‡ªåŠ¨é€‰æ‹©, <<: *ot}
  - {name: ğŸ“² ç”µæŠ¥ä¿¡æ¯, <<: *o1}
  - {name: ğŸ“± Twitter, <<: *o1}
  - {name: ğŸ’¬ OpenAi, <<: *o1}
  - {name: ğŸ¬ æ²¹ç®¡è§†é¢‘, <<: *o1}
  - {name: ğŸ¥ å¥ˆé£è§†é¢‘, <<: *o1}
  - {name: ğŸ° Disney, <<: *o1}
  - {name: ğŸ“½ï¸ å·´å“ˆå§†ç‰¹, type: select, proxies: [ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸš€ èŠ‚ç‚¹é€‰æ‹©]}
  - {name: ğŸ“º å“”å“©å“”å“©, type: select, proxies: [ğŸ¯ å…¨çƒç›´è¿, ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹]}
  - {name: ğŸŒ å›½å¤–åª’ä½“, <<: *o1}
  - {name: ğŸŒ å›½å†…åª’ä½“, type: select, proxies: [ğŸ¯ å…¨çƒç›´è¿, ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸš€ èŠ‚ç‚¹é€‰æ‹©]}
  - {name: â˜£ï¸ Copilot, <<: *o1}
  - {name: ğŸ è‹¹æœæœåŠ¡, <<: *o2}
  - {name: â“‚ï¸ å¾®è½¯æœåŠ¡, <<: *o2}
  - {name: ğŸ® æ¸¸æˆå¹³å°, <<: *o1}
  - {name: ğŸ“¥ PTä¸‹è½½, <<: [*o2, *pp]}
  - {name: ğŸ± Github, <<: *o1}
  - {name: ğŸŒ BanJP, type: select, proxies: [ğŸš€ èŠ‚ç‚¹é€‰æ‹©, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹]}
  - {name: ğŸ¯ å…¨çƒç›´è¿, type: select, proxies: [DIRECT,REJECT]}
  - {name: ğŸƒ å¹¿å‘Šæ‹¦æˆª, type: select, proxies: [REJECT,DIRECT]}
  - {name: ğŸŸ æ¼ç½‘ä¹‹é±¼, <<: *o1}
  #åœ°åŒºç­–ç•¥ç»„
  - {name: ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, <<: *ot, filter: "(?i)æ¸¯|hk|hongkong|hong kong"}
  - {name: ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, <<: *ot, filter: "(?i)å°|tw|taiwan|tai wan"}
  - {name: ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, <<: *ot, filter: "(?i)æ–°åŠ å¡|sg|singapore|ç‹®åŸ"}
  - {name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, <<: *ot, filter: "(?i)æ—¥|jp|japan"}
  - {name: ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, <<: *ot, filter: "(?i)éŸ©|kr|korea"}
  - {name: ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹, <<: *ot, filter: "(?i)ç¾|us|unitedstates|united states"}

rules:
  - SCRIPT,quic,REJECT
  - RULE-SET,LocalAreaNetwork,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,Unban,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,DirectPT,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,DirectCN,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,SteamCN,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,BanAD,ğŸƒ å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,MyBanAD,ğŸƒ å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,PrivateTracker,ğŸ“¥ PTä¸‹è½½
  - RULE-SET,MyPrivateTracker,ğŸ“¥ PTä¸‹è½½
  - RULE-SET,Telegram,ğŸ“² ç”µæŠ¥ä¿¡æ¯
  - RULE-SET,Twitter,ğŸ“± Twitter
  - RULE-SET,OpenAi,ğŸ’¬ OpenAi
  - RULE-SET,YouTube,ğŸ¬ æ²¹ç®¡è§†é¢‘
  - RULE-SET,Disney,ğŸ° Disney
  - RULE-SET,Netflix,ğŸ¥ å¥ˆé£è§†é¢‘
  - RULE-SET,Bahamut,ğŸ“½ï¸ å·´å“ˆå§†ç‰¹
  - RULE-SET,ProxyMedia,ğŸŒ å›½å¤–åª’ä½“
  - RULE-SET,Category-games,ğŸ® æ¸¸æˆå¹³å°
  - RULE-SET,Bilibili,ğŸ“º å“”å“©å“”å“©
  - RULE-SET,ChinaMedia,ğŸŒ å›½å†…åª’ä½“
  - RULE-SET,Copilot,â˜£ï¸ Copilot
  - RULE-SET,Microsoft,â“‚ï¸ å¾®è½¯æœåŠ¡
  - RULE-SET,Apple,ğŸ è‹¹æœæœåŠ¡
  - RULE-SET,Github,ğŸ± Github
  - RULE-SET,BanJP,ğŸŒ BanJP
  - RULE-SET,CustomGFWlist,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,ProxyGFWlist,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,ChinaDomain,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,ChinaCompanyIp,ğŸ¯ å…¨çƒç›´è¿,no-resolve
  - RULE-SET,ChinaIp,ğŸ¯ å…¨çƒç›´è¿,no-resolve
  - IN-TYPE,INNER,DIRECT # ç¡®ä¿å†…éƒ¨æµé‡åœ¨æ— æ³•åŒ¹é…æ—¶èµ°ç›´è¿
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼

rule-providers:
  LocalAreaNetwork:
    <<: *pc
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/LocalAreaNetwork.yaml"
  Unban:
    <<: *pc
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/UnBan.yaml"
  DirectPT:
    <<: *pc
    url: "https://raw.githubusercontent.com/cnzgray/clash-profiles/master/DirectPT.list"
    format: text
  DirectCN:
    <<: *pc
    url: "https://raw.githubusercontent.com/cnzgray/clash-profiles/master/DirectCN.list"
    format: text
  MyBanAD:
    <<: *pc
    url: "https://raw.githubusercontent.com/cnzgray/clash-profiles/master/BanAD.list"
    format: text
  BanAD:
    <<: *pc
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/BanAD.yaml"
  Telegram:
    <<: *pc
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/Telegram.yaml"
  Twitter:
    <<: *pc
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/Twitter.yaml"
  OpenAi:
    <<: *pc
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/OpenAi.yaml"
  YouTube:
    <<: *pc
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/YouTube.yaml"
  Netflix:
    <<: *pc
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/Netflix.yaml"
  Disney:
    <<: *pc
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Disney/Disney.yaml" 
  Bahamut:
    <<: *pc
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/Bahamut.yaml"
  ProxyMedia:
    <<: *pc
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/ProxyMedia.yaml"
  Category-games:
    <<: *pd
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/category-games.yaml"
  Bilibili:
    <<: *pc
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/Bilibili.yaml"
  Download:
    <<: *pc
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Download.yaml"
  ChinaMedia:
    <<: *pc
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/ChinaMedia.yaml"
  GoogleFCM:
    <<: *pc
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/GoogleFCM.yaml"  
  Microsoft:
    <<: *pc
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/Microsoft.yaml"
  Copilot:
    <<: *pc
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Copilot/Copilot_No_Resolve.yaml"
  Apple:
    <<: *pc
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/Apple.yaml"
  Github:
    <<: *pc
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/Github.yaml"
  PrivateTracker:
    <<: *pc
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/PrivateTracker.yaml"
  MyPrivateTracker:
    <<: *pc
    url: "https://raw.githubusercontent.com/cnzgray/clash-profiles/master/ProxyPT.list"
    format: text
  ChinaDomain:
    <<: *pc
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/ChinaDomain.yaml"
  ChinaCompanyIp:
    <<: *pi
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/ChinaCompanyIp.yaml"
  ChinaIp:
    <<: *pi
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/ChinaIp.yaml"
  CustomGFWlist:
    <<: *pc
    url: "https://raw.githubusercontent.com/cnzgray/clash-profiles/master/CustomGFWlist.list"
    format: text
  SteamCN:
    <<: *pc
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/SteamCN.list"
    format: text
  ProxyGFWlist:
    <<: *pc
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyGFWlist.list"
    format: text
  BanJP:
    <<: *pc
    url: "https://raw.githubusercontent.com/cnzgray/clash-profiles/master/BanIP_JP.list"
    format: text

script:
  shortcuts:
    # 4483 ä¸ 9305 ä¸º BiliBili çš„ QUIC CDN
    quic: network == 'udp' and (dst_port == 443 or dst_port == 4483 or dst_port == 9305)

dns:
  default-nameserver:
    - 114.114.115.115
    - 119.28.28.28
    - 223.6.6.6
    - system
  nameserver:
    - https://dns.alidns.com/dns-query
    - https://doh.pub/dns-query
  nameserver-policy:
    'rule-set:ChinaDomain':
      - 'https://doh.pub/dns-query'
      - 'https://dns.alidns.com/dns-query'
    'rule-set:CustomGFWlist,ProxyGFWlist':
      - 'https://dns.cloudflare.com/dns-query#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
      - 'https://dns.google/dns-query#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
    "geosite:cn,private":
      - https://doh.pub/dns-query
      - https://dns.alidns.com/dns-query
    "geosite:geolocation-!cn":
      - 'https://dns.cloudflare.com/dns-query#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
      - 'https://dns.google/dns-query#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
    'rule-set:PrivateTracker,MyPrivateTracker':
      - 'https://dns.google/dns-query#ğŸ“¥ PTä¸‹è½½'  
      - 'https://dns.cloudflare.com/dns-query#ğŸ“¥ PTä¸‹è½½'
    'rule-set:BanJP':
      - 'https://dns.google/dns-query#ğŸŒ BanJP'
      - 'https://dns.cloudflare.com/dns-query#ğŸŒ BanJP'
log-level: warning
mode: rule
